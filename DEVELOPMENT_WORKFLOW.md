# üéØ CYPHR MESSENGER - DEVELOPMENT WORKFLOW & PROGRESS TRACKING

## üìã –†–ê–ë–û–ß–ê–Ø –ú–û–î–ï–õ–¨ –î–õ–Ø CLAUDE

### 1Ô∏è‚É£ **–ù–ê–ß–ê–õ–û –ö–ê–ñ–î–û–ô –°–ï–°–°–ò–ò**
```
1. –ü—Ä–æ—á–∏—Ç–∞—Ç—å CLAUDE.md - –ø–æ–Ω—è—Ç—å —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å
2. –ü—Ä–æ—á–∏—Ç–∞—Ç—å cyphr_claude_promt.md - –æ—Å–Ω–æ–≤–Ω—ã–µ —Ü–µ–ª–∏
3. –ü—Ä–æ—á–∏—Ç–∞—Ç—å cyphr_plan_claude.md - –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å DEVELOPMENT_WORKFLOW.md - –ø–æ—Å–ª–µ–¥–Ω–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å
5. –ó–∞–≥—Ä—É–∑–∏—Ç—å TODO list –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–π —Å–µ—Å—Å–∏–∏
```

### 2Ô∏è‚É£ **–ü–ï–†–ï–î –ù–ê–ß–ê–õ–û–ú –†–ê–ë–û–¢–´**
```
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å production —Å—Ç–∞—Ç—É—Å:
   - curl https://app.cyphrmessenger.app/api/health
   - ssh ubuntu@23.22.159.209 "pm2 status"
   
2. –ü–æ–Ω—è—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É:
   - Frontend: React + Vite (–ø–æ—Ä—Ç 5173 local, HTTPS production)
   - Backend: Node.js + Express (–ø–æ—Ä—Ç 3001)
   - WebRTC: –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä (–ø–æ—Ä—Ç 3002)
   - Socket.IO: real-time messaging
   - Database: Supabase PostgreSQL
   
3. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —á—Ç–æ –†–ï–ê–õ–¨–ù–û —Ä–∞–±–æ—Ç–∞–µ—Ç vs —á—Ç–æ –Ω—É–∂–Ω–æ –ø–æ—á–∏–Ω–∏—Ç—å
```

### 3Ô∏è‚É£ **–ü–†–ê–í–ò–õ–¨–ù–´–ô –ü–û–†–Ø–î–û–ö –†–ê–ó–†–ê–ë–û–¢–ö–ò**
```
LOCAL ‚Üí TEST ‚Üí STAGING ‚Üí PRODUCTION

1. LOCAL: –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ
2. TEST: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –ª–æ–∫–∞–ª—å–Ω–æ
3. STAGING: –¢–µ—Å—Ç –Ω–∞ production-like –æ–∫—Ä—É–∂–µ–Ω–∏–∏
4. PRODUCTION: –î–µ–ø–ª–æ–π –Ω–∞ AWS (23.22.159.209)
```

### 4Ô∏è‚É£ **–°–¢–†–£–ö–¢–£–†–ê –§–ê–ô–õ–û–í PRODUCTION**
```
/var/www/cyphr/
‚îú‚îÄ‚îÄ server.ts          # TypeScript –≤–µ—Ä—Å–∏—è (–∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –≤ .cjs)
‚îú‚îÄ‚îÄ server.cjs         # –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥–ª–∞–≤–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
‚îú‚îÄ‚îÄ full-socketio-server.cjs  # Socket.IO —Å–µ—Ä–≤–µ—Ä
‚îú‚îÄ‚îÄ enterprise-webrtc.cjs     # WebRTC —Å–µ—Ä–≤–µ—Ä
‚îú‚îÄ‚îÄ dist/              # –°–æ–±—Ä–∞–Ω–Ω—ã–π frontend
‚îî‚îÄ‚îÄ .env              # Production –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
```

## üìä –¢–ï–ö–£–©–ò–ô –†–ï–ê–õ–¨–ù–´–ô –°–¢–ê–¢–£–° (17 –∞–≤–≥—É—Å—Ç–∞ 2025)

### ‚úÖ **–ß–¢–û –î–ï–ô–°–¢–í–ò–¢–ï–õ–¨–ù–û –†–ê–ë–û–¢–ê–ï–¢:**
- ‚úÖ Production —Å–µ—Ä–≤–µ—Ä –Ω–∞ AWS —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç
- ‚úÖ HTTPS/SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –∞–∫—Ç–∏–≤–Ω—ã
- ‚úÖ Frontend –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ https://app.cyphrmessenger.app
- ‚úÖ Basic API endpoints (/api/health)
- ‚úÖ –ë–∞–∑–æ–≤–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- ‚úÖ HD Wallet —Å Stellar –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π
- ‚úÖ Post-quantum –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—è (Kyber1024)

### ‚ùå **–ß–¢–û –ù–ï –†–ê–ë–û–¢–ê–ï–¢ / –¢–†–ï–ë–£–ï–¢ –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø:**
- ‚ùå Group management endpoints (–¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –∫–æ–¥, –Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç)
- ‚ùå Real-time messaging —á–µ—Ä–µ–∑ Socket.IO (–∫–æ–Ω—Ñ–ª–∏–∫—Ç –ø–æ—Ä—Ç–æ–≤)
- ‚ùå WebRTC –≤–∏–¥–µ–æ–∑–≤–æ–Ω–∫–∏ (TURN —Å–µ—Ä–≤–µ—Ä –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ)
- ‚ùå File upload/sharing
- ‚ùå Voice messages
- ‚ùå –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è wallet transactions

### ‚ö†Ô∏è **–¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´:**
1. **–ö–æ–Ω—Ñ–ª–∏–∫—Ç –ø–æ—Ä—Ç–æ–≤**: socketio –∏ backend –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–∏–Ω –ø–æ—Ä—Ç 3001
2. **PM2 –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –Ω–µ —Ç–µ —Ñ–∞–π–ª—ã (full-server.cjs –≤–º–µ—Å—Ç–æ server.cjs)
3. **TypeScript –∫–æ–º–ø–∏–ª—è—Ü–∏—è**: –º–Ω–æ–∂–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫ —Ç–∏–ø–æ–≤
4. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: –Ω–µ –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã (group_banned_members, etc)

## üìù –ê–ö–¢–£–ê–õ–¨–ù–´–ô TODO LIST

### üî• **–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø:**
- [ ] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç –ø–æ—Ä—Ç–æ–≤ (socketio vs backend)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ PM2 –ø—Ä–æ—Ü–µ—Å—Å—ã
- [ ] –°–æ–∑–¥–∞—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã –≤ –ë–î
- [ ] –ò—Å–ø—Ä–∞–≤–∏—Ç—å TypeScript –æ—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

### üöÄ **–ü–†–ò–û–†–ò–¢–ï–¢ 1: –ë–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**
- [ ] –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å real-time messaging
- [ ] –ü–æ—á–∏–Ω–∏—Ç—å –≥—Ä—É–ø–ø—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∞–≤–∞–º–∏
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å WebRTC –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- [ ] –ó–∞–≤–µ—Ä—à–∏—Ç—å wallet transaction flow

### üì¶ **–ü–†–ò–û–†–ò–¢–ï–¢ 2: –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**
- [ ] File upload —Å —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ–º
- [ ] Voice messages
- [ ] Message search
- [ ] Multi-device sync

### üé® **–ü–†–ò–û–†–ò–¢–ï–¢ 3: UX —É–ª—É—á—à–µ–Ω–∏—è**
- [ ] –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- [ ] –£–ª—É—á—à–µ–Ω–∏–µ UI/UX
- [ ] Push notifications
- [ ] Offline mode

## üîß –ü–†–ê–í–ò–õ–¨–ù–´–ô –ü–û–î–•–û–î –ö –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø–ú

### **–®–∞–≥ 1: –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ä–µ–∞–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
curl https://app.cyphrmessenger.app/api/health
ssh ubuntu@23.22.159.209 "pm2 list"
ssh ubuntu@23.22.159.209 "pm2 logs --lines 50"
```

### **–®–∞–≥ 2: –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞**
```bash
# –†–∞–±–æ—Ç–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ –°–ù–ê–ß–ê–õ–ê
npm run dev          # Frontend
npm run server       # Backend
npm test            # –¢–µ—Å—Ç—ã
```

### **–®–∞–≥ 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ª–æ–∫–∞–ª—å–Ω–æ
curl http://localhost:3001/api/health
# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ endpoints
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
```

### **–®–∞–≥ 4: –î–µ–ø–ª–æ–π**
```bash
# –¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞
scp server.ts ubuntu@23.22.159.209:/var/www/cyphr/
ssh ubuntu@23.22.159.209 "cd /var/www/cyphr && npm run build"
ssh ubuntu@23.22.159.209 "pm2 restart all"
```

## üìà –ú–ï–¢–†–ò–ö–ò –ü–†–û–ì–†–ï–°–°–ê

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ü–ª–∞–Ω | –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | –†–∞–±–æ—Ç–∞–µ—Ç | –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ |
|-----------|------|-------------|----------|----------------|
| Auth System | 100% | 100% | ‚úÖ | ‚úÖ |
| HD Wallet | 100% | 100% | ‚úÖ | ‚ö†Ô∏è |
| Messaging | 100% | 80% | ‚ö†Ô∏è | ‚ùå |
| Groups | 100% | 60% | ‚ùå | ‚ùå |
| WebRTC | 100% | 70% | ‚ö†Ô∏è | ‚ùå |
| File Upload | 100% | 20% | ‚ùå | ‚ùå |
| Voice Msg | 100% | 0% | ‚ùå | ‚ùå |

## üéØ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò (–ü–†–ê–í–ò–õ–¨–ù–´–ô –ü–û–î–•–û–î)

1. **–û–°–¢–ê–ù–û–í–ò–¢–¨–°–Ø –∏ –î–ò–ê–ì–ù–û–°–¢–ò–†–û–í–ê–¢–¨** —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
2. **–ò–°–ü–†–ê–í–ò–¢–¨ –ë–ê–ó–û–í–´–ï –ü–†–û–ë–õ–ï–ú–´** (–ø–æ—Ä—Ç—ã, PM2, –∫–æ–º–ø–∏–ª—è—Ü–∏—è)
3. **–¢–ï–°–¢–ò–†–û–í–ê–¢–¨ –õ–û–ö–ê–õ–¨–ù–û** –∫–∞–∂–¥–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ
4. **–î–ï–ü–õ–û–ò–¢–¨ –û–°–¢–û–†–û–ñ–ù–û** —Å backup'–∞–º–∏
5. **–î–û–ö–£–ú–ï–ù–¢–ò–†–û–í–ê–¢–¨** –∫–∞–∂–¥–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ

## ‚ö° –ë–´–°–¢–†–´–ï –ö–û–ú–ê–ù–î–´

```bash
# SSH –Ω–∞ —Å–µ—Ä–≤–µ—Ä
ssh -i ~/cyphrmessenger/cyphr-messenger-key.pem ubuntu@23.22.159.209

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
pm2 status
pm2 logs --lines 100

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
pm2 restart cyphr-backend
pm2 restart cyphr-socketio
pm2 restart cyphr-webrtc

# –°–±–æ—Ä–∫–∞ frontend
npm run build
npx vite build

# –ü—Ä–æ–≤–µ—Ä–∫–∞ API
curl https://app.cyphrmessenger.app/api/health
```

## üí° –í–ê–ñ–ù–´–ï –ó–ê–ú–ï–ß–ê–ù–ò–Ø

1. **–ù–ï –¢–û–†–û–ü–ò–¢–¨–°–Ø** - –ª—É—á—à–µ –º–µ–¥–ª–µ–Ω–Ω–æ –Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ
2. **–¢–ï–°–¢–ò–†–û–í–ê–¢–¨ –í–°–Å** - –∫–∞–∂–¥–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ
3. **BACKUP –ü–ï–†–ï–î –ò–ó–ú–ï–ù–ï–ù–ò–Ø–ú–ò** - –≤—Å–µ–≥–¥–∞ –¥–µ–ª–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏
4. **–î–û–ö–£–ú–ï–ù–¢–ò–†–û–í–ê–¢–¨** - –æ–±–Ω–æ–≤–ª—è—Ç—å CLAUDE.md –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π —Å–µ—Å—Å–∏–∏
5. **–°–õ–ï–î–û–í–ê–¢–¨ –ü–õ–ê–ù–£** - –Ω–µ –æ—Ç–∫–ª–æ–Ω—è—Ç—å—Å—è –æ—Ç –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ü–µ–ª–µ–π

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 17 –∞–≤–≥—É—Å—Ç–∞ 2025, 23:30
**–°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞**: –¢–†–ï–ë–£–ï–¢ –°–ò–°–¢–ï–ú–ê–¢–ò–ß–ï–°–ö–û–ì–û –ü–û–î–•–û–î–ê
**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥**: –ò–°–ü–†–ê–í–ò–¢–¨ –ë–ê–ó–û–í–´–ï –ü–†–û–ë–õ–ï–ú–´ –ò–ù–§–†–ê–°–¢–†–£–ö–¢–£–†–´